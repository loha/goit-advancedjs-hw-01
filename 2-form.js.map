{"version":3,"file":"2-form.js","sources":["../src/js/storage.js","../src/js/2-form.js"],"sourcesContent":["const load = key => {\n  try {\n    const rawData = localStorage.getItem(key);\n\n    return JSON.parse(rawData);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst save = (key, value) => {\n  try {\n    localStorage.setItem(key, value);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst remove = key => localStorage.removeItem(key);\n\nexport default {\n  load,\n  save,\n  remove,\n};\n","import storage from './storage';\nimport iziToast from 'izitoast';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nfeedbackForm.addEventListener('input', event => {\n  formData[event.target.name] = event.target.value;\n  storage.save('feedback-form-state', JSON.stringify(formData));\n});\n\nconst fillFormFields = () => {\n  const savedData = storage.load('feedback-form-state');\n\n  if (savedData) {\n    const fields = Object.keys(savedData);\n    fields.forEach(key => {\n      formData[key] = savedData[key];\n      feedbackForm.elements[key].value = savedData[key];\n    });\n  }\n};\n\nfillFormFields();\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const values = Object.values(formData);\n\n  if (values.some(value => value === '')) {\n    iziToast.error({\n      message: 'Fill please all fields',\n      position: 'topCenter',\n    });\n\n    return;\n  }\n\n  console.log(JSON.stringify(formData));\n  storage.remove('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n  feedbackForm.reset();\n});\n"],"names":["load","key","rawData","error","save","value","remove","storage","formData","feedbackForm","event","fillFormFields","savedData","iziToast"],"mappings":"wIAAA,MAAMA,EAAOC,GAAO,CAClB,GAAI,CACF,MAAMC,EAAU,aAAa,QAAQD,CAAG,EAExC,OAAO,KAAK,MAAMC,CAAO,CAC1B,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMC,EAAO,CAACH,EAAKI,IAAU,CAC3B,GAAI,CACF,aAAa,QAAQJ,EAAKI,CAAK,CAChC,OAAQF,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEMG,EAASL,GAAO,aAAa,WAAWA,CAAG,EAElCM,EAAA,CACb,KAAAP,EACA,KAAAI,EACA,OAAAE,CACF,ECrBME,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAASC,GAAS,CAC9CF,EAASE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3CH,EAAQ,KAAK,sBAAuB,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAAC,EAED,MAAMG,EAAiB,IAAM,CAC3B,MAAMC,EAAYL,EAAQ,KAAK,qBAAqB,EAEhDK,GACa,OAAO,KAAKA,CAAS,EAC7B,QAAQX,GAAO,CACpBO,EAASP,CAAG,EAAIW,EAAUX,CAAG,EAC7BQ,EAAa,SAASR,CAAG,EAAE,MAAQW,EAAUX,CAAG,CACtD,CAAK,CAEL,EAEAU,IAEAF,EAAa,iBAAiB,SAAUC,GAAS,CAI/C,GAHAA,EAAM,eAAc,EACL,OAAO,OAAOF,CAAQ,EAE1B,KAAKH,GAASA,IAAU,EAAE,EAAG,CACtCQ,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,WAChB,CAAK,EAED,MACD,CAED,QAAQ,IAAI,KAAK,UAAUL,CAAQ,CAAC,EACpCD,EAAQ,OAAO,qBAAqB,EACpCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBC,EAAa,MAAK,CACpB,CAAC"}